<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>无损纯URL+纯HTML生成（核心物体优先）</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Microsoft YaHei", Helvetica, Arial, sans-serif; }
        body { background-color: #f4f6f9; padding: 40px 0; }
        .container { width: 900px; margin: 0 auto; background: #ffffff; padding: 30px; border-radius: 8px; box-shadow: 0 2px 12px rgba(0,0,0,0.05); }
        .header { text-align: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid #e5e7eb; }
        .header h2 { color: #1f2937; font-size: 22px; font-weight: 600; }
        .header p { color: #6b7280; font-size: 14px; margin-top: 8px; }
        .upload-area { border: 2px dashed #d1d5db; border-radius: 6px; padding: 40px; text-align: center; cursor: pointer; transition: all 0.3s ease; margin-bottom: 25px; }
        .upload-area:hover { border-color: #2563eb; background-color: #f8fafc; }
        .upload-icon { font-size: 40px; color: #2563eb; margin-bottom: 12px; }
        .upload-text { color: #1f2937; font-size: 16px; margin-bottom: 6px; }
        .upload-tip { color: #6b7280; font-size: 13px; line-height: 1.5; }
        #fileInput { display: none; }
        .preview-box { text-align: center; display: none; margin-bottom: 20px; }
        #preview-img { max-width: 100%; max-height: 280px; border-radius: 4px; box-shadow: 0 1px 4px rgba(0,0,0,0.08); }
        .status-bar { height: 36px; line-height: 36px; background: #f8fafc; border-radius: 4px; padding: 0 15px; color: #1f2937; font-size: 14px; margin-bottom: 20px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .result-section { display: none; margin-bottom: 25px; }
        .result-title { color: #1f2937; font-size: 16px; font-weight: 600; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #e5e7eb; }
        .result-content { background: #f8fafc; border: 1px solid #e5e7eb; border-radius: 4px; padding: 12px; margin-bottom: 10px; word-break: break-all; font-size: 14px; color: #374151; }
        .copy-btn { padding: 8px 16px; background: #2563eb; color: #ffffff; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; transition: background 0.3s ease; }
        .copy-btn:hover { background: #1d4ed8; }
        .copy-btn.success { background: #10b981; }
        .split-line { height: 1px; background: #e5e7eb; margin: 20px 0; }
        .quality-tip { color: #10b981; font-size: 13px; margin-top: 8px; text-align: center; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>核心功能：无损原图→纯URL+纯HTML代码</h2>
            <p>无损保留原图KB/画质 + 纯可访问URL + 纯<img>标签HTML，alt优先10字</p>
        </div>

        <!-- 上传区域 -->
        <div class="upload-area" onclick="document.getElementById('fileInput').click()">
            <div class="upload-icon">📤</div>
            <div class="upload-text">点击/拖拽上传图片（无损保留原图，无大小限制）</div>
            <div class="upload-tip">URL纯直链 | HTML纯代码无嵌套 | 不压缩画质/不改变原图KB</div>
            <input type="file" id="fileInput" accept="image/*" style="display: none;" onchange="startFullProcess()">
        </div>

        <!-- 图片预览+画质提示 -->
        <div class="preview-box" id="previewBox">
            <img id="preview-img" alt="图片预览">
            <div class="quality-tip">已确认：上传后将无损保留原图画质及文件大小</div>
        </div>

        <!-- 流程状态 -->
        <div class="status-bar" id="statusBar">等待上传，无损生成纯URL+纯HTML...</div>

        <!-- 纯URL结果区 -->
        <div class="result-section" id="directLinkSection">
            <div class="result-title">1. 无损纯图片URL（直接访问，原图画质）</div>
            <div class="result-content" id="directLinkValue"></div>
            <button class="copy-btn" onclick="copyToClipboard('directLinkValue', 'URL')">复制无损纯URL</button>
        </div>

        <div class="split-line"></div>

        <!-- 纯HTML结果区 -->
        <div class="result-section" id="htmlCodeSection">
            <div class="result-title">2. 纯HTML代码（仅<img>标签，无嵌套）</div>
            <div class="result-content" id="htmlCodeValue"></div>
            <button class="copy-btn" onclick="copyToClipboard('htmlCodeValue', 'HTML')">复制纯HTML</button>
        </div>
    </div>

    <script>
        // 已更新图床接口+密钥+无损配置
        const GLOBAL_CONFIG = {
            IMGURL: {
                uploadUrl: "https://imgloc.com/api/1/upload",
                key: "chv_Ln0q_a628219ff7f8ed2d5e5a8364ed1cabf0130a90146ab8ca7f3bdcf1296335a582651b574682c49cdecf2919b494f0f516e26ed8f4874008e292040c5d10d00334",
                quality: "original" // 强制无损上传，保留原图画质/KB
            },
            ZHIPU: {
                apiUrl: "https://open.bigmodel.cn/api/paas/v4/chat/completions",
                apiKey: "c00f8dc10f124ec0ac66adcc34958789.0yX3TfMvvXKRLZjy"
            }
        };

        // 主流程：无损上传→纯URL→5000字指令识别→纯HTML
        async function startFullProcess() {
            const file = document.getElementById('fileInput').files[0];
            if (!file) return;

            const statusBar = document.getElementById('statusBar');
            const previewBox = document.getElementById('previewBox');
            const directLinkSection = document.getElementById('directLinkSection');
            const htmlCodeSection = document.getElementById('htmlCodeSection');
            const previewImg = document.getElementById('preview-img');

            // 显示预览图+原图信息
            const reader = new FileReader();
            reader.onload = e => {
                previewImg.src = e.target.result;
                previewBox.style.display = 'block';
                // 显示原图KB信息
                const fileSizeKB = (file.size / 1024).toFixed(2);
                document.querySelector('.quality-tip').textContent = `原图大小：${fileSizeKB}KB | 上传后无损保留画质及文件大小`;
            };
            reader.readAsDataURL(file);

            try {
                // 步骤1：无损上传生成【纯URL】（不压缩，直接可访问）
                statusBar.textContent = "无损上传图片，生成纯直链...";
                const imgDirectLink = await uploadToImgurl(file);
                if (!imgDirectLink.startsWith('http')) throw new Error("无损URL生成失败");

                // 步骤2：5000字超详细指令识别核心物体，生成alt描述
                statusBar.textContent = "识别核心物体，生成精准alt描述...";
                const altText = await recognizeVisualContent(imgDirectLink);

                // 步骤3：生成【纯HTML】（仅<img>标签，无多余嵌套）
                const htmlCode = `<img src="${imgDirectLink}" alt="${altText}" width="auto" height="auto">`;

                // 显示纯结果
                document.getElementById('directLinkValue').textContent = imgDirectLink;
                document.getElementById('htmlCodeValue').textContent = htmlCode;
                directLinkSection.style.display = 'block';
                htmlCodeSection.style.display = 'block';
                statusBar.textContent = "无损生成完成！URL/HTML纯内容，原图画质无压缩";
            } catch (error) {
                statusBar.textContent = `失败：${error.message}`;
            }
        }

        // 无损上传到新图床（强制保留原图，不压缩画质/KB）
        async function uploadToImgurl(file) {
            const formData = new FormData();
            formData.append('file', file);
            formData.append('key', GLOBAL_CONFIG.IMGURL.key);
            formData.append('action', 'upload');
            formData.append('format', 'json');
            formData.append('quality', GLOBAL_CONFIG.IMGURL.quality); // 无损参数
            formData.append('compress', '0'); // 禁用压缩
            formData.append('resize', '0'); // 禁用缩放

            const response = await fetch(GLOBAL_CONFIG.IMGURL.uploadUrl, {
                method: 'POST',
                body: formData,
                headers: { 'Accept': 'application/json' },
                credentials: 'omit'
            });

            const data = await response.json();
            if (!data.success || !data.image?.url) throw new Error(data.error || '无损上传失败');
            // 净化URL：仅保留纯访问地址，无嵌套/多余参数
            const pureUrl = new URL(data.image.url).origin + new URL(data.image.url).pathname;
            return pureUrl;
        }

        // 核心：5000字超详细AI指令（无损场景适配，AI100%精准执行）
        async function recognizeVisualContent(imgUrl) {
            const requestBody = {
                model: "glm-4v-flash",
                messages: [{
                    role: "user",
                    content: [
                        { 
                            type: "text", 
                            text: `你的唯一、不可更改、必须严格执行的核心任务，是为上传的无损原图生成“纯视觉核心物体描述文字”，该文字将唯一用于纯HTML代码中<img>标签的alt属性，帮助识别图片核心内容，无其他任何用途。请你务必逐字逐句、毫无遗漏地阅读以下所有规则、说明、示例，确保完全理解每一个要求，然后严格按照要求执行，不添加任何个人判断、额外解释、主观联想，仅输出符合要求的描述文字，确保结果精准、纯净、可用，让纯HTML代码能直接嵌入使用。本指令共计5000字，涵盖所有细节、场景、示例，你必须逐一遵守，任何一条规则的违反都将导致描述无效，以下是完整指令：

一、核心使命与定位：只聚焦“核心物体本身”，拒绝所有非核心干扰信息
1. 核心物体的明确定义与判断标准：
   - 核心物体是指画面中“视觉占比最大（超过50%）、视觉权重最高（最显眼、最先被注意到）、最能代表图片整体内容”的实体或核心视觉元素，必须满足“日常可见、有明确基础名称、普通人能快速识别”的特征，具体分类及示例如下：
     - 实物类核心物体（最常见）：苹果、水杯、电脑、书籍、蝴蝶、落叶、警徽、玻璃、人们、树木、花朵、手机、桌子、椅子、汽车、自行车、杯子、盘子、鞋子、衣服、帽子、书包、钢笔、手表、眼镜、雨伞、钥匙、钱包、水果、蔬菜、玩具、电器、家具、工具等；
     - 界面类核心元素：控件组合、矩形区块、卡片布局、图标集合、空白区域、弹窗形状、按钮轮廓、输入框形态、导航栏布局、列表式排列等（仅描述视觉布局和元素形态，不涉及任何文字内容、功能用途）；
     - 场景类核心主体：街道、公园、客厅、办公室、山川、天空、河流、草地、森林、沙漠、海洋、城市、乡村、学校、医院、车站、机场等（场景本身作为核心，或场景中最主要的物体组合）；
     - 自然类核心物体：太阳、月亮、星星、云朵、雨水、雪花、雷电、风、雾、霜、冰雹、树木、花草、藤蔓、苔藓、动物、昆虫、鸟类、鱼类等；
2. 必须彻底抛弃的非核心信息（零容忍，绝对不提及、不暗示、不关联）：
   - 物体的状态/动作特征：碎裂、发光、疲惫、飞行、散落、奔跑、静止、旋转、破旧、崭新、鲜艳、暗淡、弯曲、笔直、打开、关闭、破损、完整、干燥、湿润、加热、冷却、移动、静止等（例如：“碎裂的玻璃”只说“玻璃”，“飞行的蝴蝶”只说“蝴蝶”，“疲惫的人们”只说“人们”，“闪闪发光的警徽”只说“警徽”，“散落的落叶”只说“落叶”，“奔跑的孩子”只说“孩子”）；
   - 物体的细节属性特征：颜色（红、黄、蓝、绿等）、大小（大、小、长、短、宽、窄等）、形状（圆、方、三角、椭圆等）、材质（木、铁、塑料、玻璃、布料等）、数量（一、二、三、多等，非必要区分时）、气味、味道、重量、温度、硬度、透明度等（例如：“红色的苹果”只说“苹果”，“圆形的杯子”只说“杯子”，“木质的桌子”只说“桌子”，“三个香蕉”只说“香蕉”）；
   - 主观感受与风格判断：好看、难看、壮观、简陋、温馨、冰冷、热闹、安静、商务风、科技感、复古风、简约风、奢华风、田园风、工业风等（例如：“壮观的山川”只说“山川”，“温馨的客厅”只说“客厅”，“科技感的界面”只说“控件组合”）；
   - 功能、用途与归属关系：用于喝水的水杯、办公用的电脑、警察的警徽、孩子的玩具、老师的书籍、医生的工具、厨房的盘子、卧室的床等（例如：“办公用的电脑”只说“电脑”，“警察的警徽”只说“警徽”，“喝水的水杯”只说“水杯”）；
   - 无关次要元素：画面边缘的小物体（占比小于5%）、不影响核心识别的点缀内容、背景中模糊的次要物体、偶然出现的干扰元素等（例如：“桌子上的苹果和灰尘”只说“苹果”，“街道上的人们和石子”只说“人们”）；
   - 时间、季节、地域关联：春天的花朵、夏天的河流、秋天的落叶、冬天的雪花、中国的街道、外国的公园等（例如：“秋天的落叶”只说“落叶”，“冬天的雪花”只说“雪花”，“春天的花朵”只说“花朵”）；
   - 画质、尺寸相关信息：无损、高清、压缩、大小、KB、像素等（alt描述与画质无关，仅聚焦核心物体）；
3. 核心判断原则（3条黄金法则，必须严格遵守）：
   - 法则一：“所见核心即所得”——画面核心是A就只说A，是B就只说B，不添加、不删减、不联想、不修饰，仅做“核心物体的基础名称命名”，拒绝任何多余信息；
   - 法则二：“核心唯一优先”——若画面有多个物体，只选“最显眼、占比最大”的1-3个核心物体，次要物体坚决忽略，不堆砌词汇；
   - 法则三：“基础名词唯一”——仅使用日常通用的基础名词，拒绝复杂、专业、生僻词汇，确保任何人能快速理解。

二、名词与修饰词使用规则（极致精准，无歧义，零误差）
1. 基础名词使用规范（5条硬性要求）：
   - 要求一：必须使用“日常通用、简单易懂、无任何修饰”的基础名词，禁止使用复杂名词、专业术语、品牌名称、衍生词汇；
   - 要求二：名词必须对应“核心物体本身”，不涉及任何功能、状态、属性，例如：用“苹果”不用“红富士苹果”“有机苹果”“甜苹果”，用“电脑”不用“便携式计算机”“办公电脑”“游戏电脑”，用“手机”不用“智能手机”“5G手机”“拍照手机”；
   - 要求三：同类物体名词统一，例如：“人们”“孩子”“树木”“花朵”等，不随意更换同义词（不用“人群”替代“人们”，不用“苗木”替代“树木”）；
   - 要求四：避免重复名词，画面中同一核心物体多次出现，仅提及一次，例如：“多个苹果”只说“苹果”，“一排桌子”只说“桌子”；
   - 要求五：名词数量控制，核心物体不超过3个，避免词汇堆砌，例如：“桌子、椅子、水杯、书籍”简化为“桌子椅子水杯”（保留前3个核心）；
   - 正确示例：蝴蝶、玻璃、警徽、落叶、苹果、水杯、电脑、人们、树木、街道、公园；
   - 错误示例：彩粉蝴蝶、钢化玻璃、警察的警徽、秋天的落叶、红色苹果、办公电脑、行走的人们、景观树木、繁忙的街道；
2. 修饰词使用的唯一条件（非必要绝对不用，仅1种场景允许）：
   - 允许场景：画面中有“2个及以上同类核心物体”，且不添加修饰词无法区分核心时，仅添加“最低限度的区分性修饰”（仅限颜色、大小，且每个物体最多1个修饰词，整体修饰词不超过2个）；
   - 修饰词限制：仅可用“红、绿、蓝、黄、黑、白”（颜色）、“大、小”（大小），禁止使用“深、浅、亮、暗、长、短”等复杂修饰；
   - 正确示例：画面有红、绿两个苹果→“红苹果绿苹果”；画面有大、小两个水杯→“大水杯小水杯”；画面有红苹果、绿苹果、大水杯→“红苹果绿苹果水杯”；
   - 错误示例：画面有1个红苹果→“红苹果”（单个物体加修饰）；画面有红苹果、蓝水杯→“红苹果蓝水杯”（不同类物体加修饰）；画面有深红、浅红苹果→“深红苹果浅红苹果”（复杂修饰）；
3. 界面/场景类描述规则（4条核心要求）：
   - 界面类：仅描述“核心布局+核心元素形态”，用“多控件组合”“矩形区块布局”“卡片式元素”“居中图标集合”等直白表述，不涉及功能、用途、风格；
   - 场景类：仅描述“场景名称+核心物体”，用“公园树木”“街道人们”“客厅桌子”等，不添加场景状态、主观感受；
   - 自然类：仅描述“核心自然物体组合”，用“山川天空河流”“树木花朵云朵”等，不添加自然现象、季节特征；
   - 正确示例：多控件组合布局、矩形区块卡片、公园树木花朵、街道人们车辆；
   - 错误示例：办公软件界面、上传按钮面板、美丽的公园、繁忙的街道、下雨的天空。

三、长度要求：优先10字以内，弹性1-50字（兼顾简洁与完整，零超标）
1. 优先目标（90%场景必须满足）：控制在10字以内，越简洁越好，核心物体越单一，字数越少；
   - 单个核心物体：1-3字（最优1-2字），例如：蝴蝶（2字）、玻璃（2字）、警徽（2字）、落叶（2字）、苹果（2字）、水杯（2字）、电脑（2字）、人们（2字）、树木（2字）、街道（2字）；
   - 两个不同类核心物体：3-6字（最优4-5字），例如：桌子椅子（4字）、苹果水杯（4字）、蝴蝶花朵（4字）、街道人们（4字）、公园树木（4字）；
   - 三个不同类核心物体：6-10字（最优7-9字），例如：桌子椅子水杯（6字）、苹果水杯书籍（6字）、蝴蝶花朵树木（6字）、街道人们车辆（6字）、客厅桌子沙发（6字）；
2. 弹性范围（仅10%复杂场景允许）：11-50字，仅当画面是“复杂场景+多个不同类核心物体”，且必须完整描述核心时使用，确保不遗漏关键核心物体，但不堆砌次要元素；
   - 正确示例：客厅桌子椅子沙发绿植（10字）、街道人们车辆商铺长椅（10字）、公园树木花朵长椅人们（10字）、山川天空河流桥梁树木（10字）、办公室电脑桌子书籍绿植（10字）；
   - 错误示例：宽敞的客厅里摆放着桌子椅子沙发和绿色植物（20字，冗余）、街道上有很多行人和车辆还有商铺和长椅（20字，冗余）、公园中美丽的树木和鲜艳的花朵还有人们和长椅（22字，冗余+修饰）；
3. 格式要求（4条零容忍）：
   - 零容忍一：无任何标点符号（逗号、句号、顿号、引号等）；
   - 零容忍二：无任何空格、空白字符；
   - 零容忍三：无任何英文、数字、符号；
   - 零容忍四：无任何换行、分段；
   - 正确格式：桌子椅子水杯、街道人们车辆、公园树木花朵；
   - 错误格式：桌子、椅子、水杯；街道 人们 车辆；公园-树木-花朵；

四、多模态全场景适配（覆盖100%图片类型，AI无混淆，零失误）
1. 实物类图片（单个核心物体）：
   - 场景特征：画面仅一个主要物体，无其他干扰元素，占比超过70%；
   - 描述规则：直接输出基础名词（1-3字）；
   - 正确示例（20组）：
     图片：飞行的彩色蝴蝶→蝴蝶；图片：碎裂的透明玻璃→玻璃；图片：发光的金属警徽→警徽；
     图片：疲惫的行走人们→人们；图片：散落的黄色落叶→落叶；图片：红色的圆形苹果→苹果；
     图片：蓝色的塑料水杯→水杯；图片：打开的办公电脑→电脑；图片：鲜艳的红色花朵→花朵；
     图片：木质的方形桌子→桌子；图片：金属的折叠椅子→椅子；图片：黑色的智能手表→手表；
     图片：透明的近视眼镜→眼镜；图片：彩色的雨伞→雨伞；图片：银色的金属钥匙→钥匙；
     图片：皮革的黑色钱包→钱包；图片：绿色的新鲜蔬菜→蔬菜；图片：毛绒的儿童玩具→玩具；
     图片：白色的家用电器→电器；图片：黑色的山地自行车→自行车；
   - 错误示例（20组）：
     图片：飞行的彩色蝴蝶→彩色蝴蝶/飞行的蝴蝶/彩粉蝴蝶；
     图片：碎裂的透明玻璃→碎裂玻璃/透明玻璃/钢化玻璃；
     图片：发光的金属警徽→发光警徽/金属警徽/警察的警徽；
     图片：疲惫的行走人们→疲惫的人们/行走的人们/上班族；
     图片：散落的黄色落叶→散落落叶/黄色落叶/秋天的落叶；
2. 实物类图片（多个核心物体）：
   - 场景特征：画面有2个及以上不同类核心物体，或多个同类需区分的物体；
   - 描述规则：按“视觉权重排序”列出基础名词（同类需区分加1个修饰），核心物体不超过3个；
   - 正确示例（15组）：
     图片：红苹果、绿苹果、香蕉→红苹果绿苹果香蕉；
     图片：大水杯、小水杯、书籍→大水杯小水杯书籍；
     图片：电脑、桌子、椅子→电脑桌子椅子；
     图片：蝴蝶、花朵、树木→蝴蝶花朵树木；
     图片：人们、车辆、街道→人们车辆街道；
     图片：桌子、水杯、书籍→桌子水杯书籍；
     图片：手机、手表、钥匙→手机手表钥匙；
     图片：苹果、香蕉、橙子→苹果香蕉橙子；
     图片：椅子、沙发、绿植→椅子沙发绿植；
     图片：雨伞、鞋子、帽子→雨伞鞋子帽子；
     图片：玻璃、盘子、杯子→玻璃盘子杯子；
     图片：警徽、衣服、帽子→警徽衣服帽子；
     图片：落叶、树木、草地→落叶树木草地；
     图片：玩具、书籍、书包→玩具书籍书包；
     图片：自行车、汽车、人们→自行车汽车人们；
   - 错误示例（15组）：
     图片：红苹果、绿苹果、香蕉→红色苹果和绿色苹果/三个水果/彩果组合；
     图片：大水杯、小水杯、书籍→两个水杯和一本书/蓝色书籍和水杯/办公用具；
     图片：电脑、桌子、椅子→办公用的电脑和桌椅/电脑和家具/电子设备和桌椅；
3. 界面类图片（无文字/忽略文字）：
   - 场景特征：软件界面、网页布局、APP页面、控件组合，无可见文字或忽略文字；
   - 描述规则：核心布局+核心元素（4-10字），不涉及功能、风格；
   - 正确示例（10组）：
     图片：顶部长条区块+中间3个矩形控件→长条区块+矩形控件；
     图片：居中卡片+两侧小图标→居中卡片+两侧图标；
     图片：多控件网格排列+底部按钮轮廓→多控件网格+按钮轮廓；
     图片：左侧列表布局+右侧空白区域→左侧列表+右侧空白；
     图片：弹窗形状+内部文字区域（忽略文字）→弹窗形状+内部区域；
     图片：导航栏+下方卡片组合→导航栏+下方卡片；
     图片：输入框形态+右侧图标→输入框+右侧图标；
     图片：多图标横向排列→多图标横向排列；
     图片：卡片式网格布局→卡片式网格布局；
     图片：顶部标题栏+中间内容区→顶部标题栏+中间区；
   - 错误示例（10组）：
     图片：顶部长条区块+中间3个矩形控件→上传界面/操作面板/带按钮的网页；
     图片：居中卡片+两侧小图标→APP首页/卡片式界面/带图标的面板；
     图片：多控件网格排列+底部按钮轮廓→办公软件界面/功能面板/设置页面；
4. 自然类图片：
   - 场景特征：山川、河流、天空、云朵、树木、花草等自然景观，无核心实物；
   - 描述规则：核心自然物体组合（4-10字），不添加主观感受、季节特征；
   - 正确示例（10组）：
     图片：蓝天+白云+青山→天空白云青山；
     图片：河流+桥梁+树木→河流桥梁树木；
     图片：草地+花朵+蝴蝶→草地花朵蝴蝶；
     图片：森林+树木+藤蔓→森林树木藤蔓；
     图片：沙漠+太阳+沙丘→沙漠太阳沙丘；
     图片：海洋+浪花+天空→海洋浪花天空；
     图片：雪花+树木+房屋→雪花树木房屋；
     图片：雨水+街道+树木→雨水街道树木；
     图片：星星+月亮+天空→星星月亮天空；
     图片：雾+山川+河流→雾山川河流；
   - 错误示例（10组）：
     图片：蓝天+白云+青山→晴朗的自然风景/蓝天白云配青山/美丽的山景；
     图片：河流+桥梁+树木→有桥的河流/壮观的河景/清澈的河流和桥梁；
     图片：草地+花朵+蝴蝶→鲜花盛开的草地/蝴蝶飞舞的草坪/美丽的自然景观；
5. 场景类图片（室内/室外）：
   - 场景特征：客厅、办公室、街道、公园等，包含多个核心物体；
   - 描述规则：场景名称+核心物体（6-15字），不添加场景状态、主观感受；
   - 正确示例（10组）：
     图片：客厅+桌子+椅子+沙发→客厅桌子椅子沙发；
     图片：街道+人们+车辆+商铺→街道人们车辆商铺；
     图片：公园+树木+花朵+长椅→公园树木花朵长椅；
     图片：办公室+电脑+桌子+书籍→办公室电脑桌子书籍；
     图片：学校+教学楼+树木+人们→学校教学楼树木人们；
     图片：医院+大楼+车辆+人们→医院大楼车辆人们；
     图片：车站+人们+车辆+站牌（忽略文字）→车站人们车辆站牌；
     图片：机场+飞机+人们+大楼→机场飞机人们大楼；
     图片：乡村+房屋+树木+田地→乡村房屋树木田地；
     图片：城市+高楼+街道+车辆→城市高楼街道车辆；
   - 错误示例（10组）：
     图片：客厅+桌子+椅子+沙发→宽敞的客厅家具/温馨的客厅场景/客厅里的桌椅沙发；
     图片：街道+人们+车辆+商铺→繁忙的街道/行人和车辆/城市街道场景；
     图片：公园+树木+花朵+长椅→美丽的公园/公园里的人们和植物/休闲的公园场景。

五、绝对禁止条款（15条零容忍，违反任何一条即视为无效描述）
1. 禁止识别、提及、暗示任何文字、符号、数字（包括水印、logo内文字、背景文字、按钮文字、手写体、印刷体、符号、数字，无论清晰与否，一律视为不存在）；
2. 禁止添加物体的任何状态、动作、属性（如碎裂、发光、疲惫、飞行、散落、红色、圆形、木质、崭新、破旧等）；
3. 禁止猜测、提及物体的功能、用途、归属（如办公用的电脑、警察的警徽、喝水的水杯、孩子的玩具等）；
4. 禁止使用复杂、专业、生僻、品牌、衍生词汇（必须用日常通用基础名词）；
5. 禁止添加任何主观感受、风格判断、情绪表达（如好看、难看、壮观、简陋、繁忙、温馨、科技感等）；
6. 禁止偏离画面核心（只描述占比最大、最显眼的核心物体，忽略次要元素、点缀内容）；
7. 禁止非必要添加修饰词（不同类物体绝对不加修饰，同类区分仅用1个基础修饰）；
8. 禁止词汇堆砌（核心物体不超过3个，总字数优先10字以内，最多50字）；
9. 禁止重复名词（同一核心物体多次出现，仅提及一次）；
10. 禁止格式错误（无标点、无空格、无符号、无英文、无数字，纯中文汉字）；
11. 禁止字数超标（超过50字自动精简前50字，优先10字以内）；
12. 禁止输出多余内容（仅描述文字，不解释、不说明、不标注、不道歉、无额外字符）；
13. 禁止更换核心名词（用“人们”不用“人群”，用“蝴蝶”不用“飞虫”，保持名词统一）；
14. 禁止关联时间、季节、地域（如春天、冬天、中国、外国等）；
15. 禁止涉及画质、尺寸相关信息（如无损、高清、KB、像素等）。

六、超详细正确/错误示例对照（30组，覆盖所有高频场景，AI100%懂）
1. 实物类（单个核心物体，10组）：
   - 图片内容：飞行的、彩色的、带花纹的蝴蝶 → 正确：“蝴蝶” → 错误：“彩色蝴蝶”“飞行的蝴蝶”“彩粉蝴蝶”“花纹蝴蝶”；
   - 图片内容：碎裂的、透明的、钢化材质的玻璃 → 正确：“玻璃” → 错误：“碎裂玻璃”“透明玻璃”“钢化玻璃”“破损玻璃”；
   - 图片内容：闪闪发光的、金属的、警察佩戴的警徽 → 正确：“警徽” → 错误：“发光警徽”“金属警徽”“警察的警徽”“执法警徽”；
   - 图片内容：疲惫的、行走的、成群的人们 → 正确：“人们” → 错误：“疲惫的人们”“行走的人们”“人群”“上班族”；
   - 图片内容：散落的、黄色的、秋天的落叶 → 正确：“落叶” → 错误：“散落落叶”“黄色落叶”“秋天的落叶”“枯叶”；
   - 图片内容：红色的、圆形的、新鲜的苹果 → 正确：“苹果” → 错误：“红色苹果”“圆形苹果”“新鲜苹果”“红富士”；
   - 图片内容：蓝色的、塑料的、带手柄的水杯 → 正确：“水杯” → 错误：“蓝色水杯”“塑料水杯”“带手柄水杯”“饮水杯”；
   - 图片内容：打开的、黑色的、办公用的电脑 → 正确：“电脑” → 错误：“打开的电脑”“黑色电脑”“办公电脑”“笔记本电脑”；
   - 图片内容：鲜艳的、红色的、带露珠的花朵 → 正确：“花朵” → 错误：“红色花朵”“鲜艳花朵”“带露珠花朵”“玫瑰花”；
   - 图片内容：木质的、方形的、客厅的桌子 → 正确：“桌子” → 错误：“木质桌子”“方形桌子”“客厅桌子”“餐桌”；
2. 实物类（多个核心物体，10组）：
   - 图片内容：红苹果、绿苹果、黄色香蕉、紫色葡萄 → 正确：“红苹果绿苹果香蕉” → 错误：“红色苹果和绿色苹果”“四种水果”“彩色水果组合”；
   - 图片内容：大水杯、小水杯、蓝色书籍、黑色钢笔 → 正确：“大水杯小水杯书籍” → 错误：“两个水杯和一本书”“蓝色书籍和黑色钢笔”“办公学习用品”；
   - 图片内容：电脑、桌子、椅子、水杯、书籍 → 正确：“电脑桌子椅子” → 错误：“办公用的电脑和桌椅”“桌子上的电脑和水杯”“电子设备和家具”；
   - 图片内容：蝴蝶、花朵、树木、草地、人们 → 正确：“蝴蝶花朵树木” → 错误：“蝴蝶飞舞的草地”“花朵和树木”“自然场景中的物体”；
   - 图片内容：街道、人们、车辆、商铺、长椅 → 正确：“街道人们车辆” → 错误：“繁忙的街道和行人们”“车辆和商铺”“城市街道的物体”；
   - 图片内容：手机、手表、钥匙、钱包、帽子 → 正确：“手机手表钥匙” → 错误：“随身携带的物品”“手机和配饰”“电子设备和钥匙”；
   - 图片内容：雨伞、鞋子、帽子、背包、衣服 → 正确：“雨伞鞋子帽子” → 错误：“出行装备”“衣服和配饰”“雨天用品和衣物”；
   - 图片内容：玻璃、盘子、杯子、勺子、筷子 → 正确：“玻璃盘子杯子” → 错误：“餐具组合”“玻璃制品和餐具”“吃饭用的工具”；
   - 图片内容：警徽、衣服、帽子、手套、鞋子 → 正确：“警徽衣服帽子” → 错误：“警察的装备”“制服和配饰”“执法人员的衣物”；
   - 图片内容：落叶、树木、草地、河流、山川 → 正确：“落叶树木草地” → 错误：“自然景观中的物体”“秋天的自然场景”“山川河流和树木”；
3. 界面/场景/自然类（10组）：
   - 图片内容：顶部长条区块+中间3个矩形控件+底部小图标 → 正确：“长条区块+矩形控件+图标” → 错误：“上传界面”“操作面板”“带按钮的网页”；
   - 图片内容：居中卡片+两侧小图标+底部空白区域 → 正确：“居中卡片+两侧图标” → 错误：“APP首页”“卡片式界面”“带图标的面板”；
   - 图片内容：蓝天+白云+青山+绿草+河流 → 正确：“天空白云青山绿草” → 错误：“晴朗的自然风景”“蓝天白云配青山”“美丽的山水景观”；
   - 图片内容：客厅+桌子+椅子+沙发+绿植+书籍 → 正确：“客厅桌子椅子沙发” → 错误：“宽敞的客厅家具”“温馨的客厅场景”“客厅里的物品”；
   - 图片内容：街道+人们+车辆+商铺+长椅+路灯 → 正确：“街道人们车辆商铺” → 错误：“繁忙的街道”“行人和车辆”“城市街道场景”；
   - 图片内容：公园+树木+花朵+长椅+人们+儿童玩具 → 正确：“公园树木花朵长椅” → 错误：“美丽的公园”“公园里的人们和植物”“休闲场景”；
   - 图片内容：办公室+电脑+桌子+书籍+绿植+文件 → 正确：“办公室电脑桌子书籍” → 错误：“办公场景”“电脑和文件”“上班族的办公环境”；
   - 图片内容：河流+桥梁+树木+天空+船只 → 正确：“河流桥梁树木天空” → 错误：“有桥的河流”“壮观的河景”“水上交通工具和桥梁”；
   - 图片内容：沙漠+太阳+沙丘+骆驼 → 正确：“沙漠太阳沙丘” → 错误：“炎热的沙漠”“沙漠中的骆驼”“沙漠景观”；
   - 图片内容：雪花+树木+房屋+街道 → 正确：“雪花树木房屋” → 错误：“下雪的街道”“冬天的场景”“覆盖雪花的房屋”。

七、AI执行步骤（7步流程，按顺序执行，零遗漏）
1. 第一步：观察图片，忽略所有文字、符号、数字（无论清晰与否，一律视为不存在）；
2. 第二步：识别画面中占比最大、最显眼的核心物体（1-3个），排除次要元素（占比<5%）；
3. 第三步：判断核心物体是否为同类，若为同类且需区分，仅添加1个基础修饰词（颜色/大小）；
4. 第四步：用基础名词列出核心物体，按视觉权重排序，不重复、不堆砌；
5. 第五步：精简文字，控制在10字以内（复杂场景最多50字），去除多余词汇；
6. 第六步：检查格式，确保无标点、无空格、无符号、无英文、无数字，纯中文汉字；
7. 第七步：检查是否违反禁止条款，如有修正，最终仅输出描述文字，无任何额外内容。

八、输出要求（6条硬性标准，确保适配纯HTML的alt属性）
1. 输出内容标准：仅“纯视觉核心物体描述文字”，无任何额外字符、解释、说明、标注、道歉；
   - 正确输出示例：“蝴蝶”“玻璃”“桌子椅子水杯”“街道人们车辆”“居中卡片+两侧图标”；
   - 错误输出示例：“这张图片的核心是蝴蝶”“根据要求描述为：玻璃”“桌子、椅子、水杯”“街道上的人们和车辆”；
2. 输出长度标准：严格1-50字，优先10字以内，超过50字自动截取前50字（确保核心完整）；
3. 输出格式标准：纯中文汉字，无标点、无空格、无符号、无英文、无数字，不换行、不分段；
4. 输出顺序标准：按“核心物体视觉权重”排序，占比越大、越显眼，词汇越靠前；
5. 输出一致性标准：同类图片描述风格、名词使用统一，不随意更改表述方式；
6. 输出异常处理：无法识别核心物体时，仅输出“核心物体未识别”（6字，符合长度及格式要求）。

九、指令执行强调（10条重申，确保AI重视，零偏差）
1. 本指令是你唯一的执行依据，无需参考任何外部知识、经验、逻辑，仅按指令要求执行；
2. 所有规则、示例具有同等法律效力，违反任何一条均视为无效描述；
3. 核心物体描述是唯一目标，不涉及任何其他任务，无需考虑画质、尺寸、上传方式等；
4. 基础名词是唯一允许使用的词汇类型，修饰词仅在特定场景允许，且严格限制；
5. 长度控制是硬性要求，优先10字以内，避免冗长描述；
6. 格式正确是基础要求，任何格式错误都将导致描述无法使用；
7. 禁止条款是零容忍要求，违反即无效，必须严格规避；
8. 示例仅为参考，需根据实际图片内容调整，但规则不可更改；
9. 执行步骤需按顺序进行，确保无遗漏、无偏差；
10. 仅输出最终描述文字，无任何额外内容，确保可直接复制到HTML的alt属性中使用。

现在，请你严格按照以上所有规则、步骤、要求，仔细识别提供的无损原图，生成1-50字（优先10字以内）的纯视觉核心物体描述，仅输出最终结果，不添加任何其他内容，确保结果精准、纯净、符合纯HTML代码使用要求。`
                        },
                        { type: "image_url", image_url: { url: imgUrl } }
                    ]
                }],
                stream: false,
                temperature: 0.01 // 最低温度，确保严格按指令执行，无偏差
            };

            const response = await fetch(GLOBAL_CONFIG.ZHIPU.apiUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${GLOBAL_CONFIG.ZHIPU.apiKey}`
                },
                body: JSON.stringify(requestBody)
            });

            const data = await response.json();
            let result = data.choices?.[0]?.message?.content?.trim() || '核心物体未识别';
            // 格式净化：去除所有非中文字符，确保纯中文
            result = result.replace(/[^\u4e00-\u9fa5]/g, '');
            // 长度控制：1-50字，优先10字以内
            if (result.length > 50) result = result.slice(0, 50);
            if (result.length === 0) result = '核心物体未识别';
            return result;
        }

        // 优化复制功能：精准复制纯内容，提示友好
        function copyToClipboard(elementId, type) {
            const content = document.getElementById(elementId).textContent.trim();
            navigator.clipboard.writeText(content).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = `已复制纯${type}！`;
                btn.classList.add('success');
                // 3秒后恢复原状
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.classList.remove('success');
                }, 3000);
            }).catch(err => {
                alert(`纯${type}复制失败，请手动复制：${err}`);
            });
        }
    </script>
</body>
</html>